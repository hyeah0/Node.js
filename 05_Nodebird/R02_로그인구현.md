10. 로그인 구현(passport 모듈)

- 1. npm 라이브러리 다운
  - `npm i passport passport-local passport-kakao bcrypt`
- 2. passport 모듈 [app.js]에 연결
- 3. [passport]폴더 [index.js]파일 작성

  - <img src="https://github.com/hyeah0/Node.js/blob/main/05_Nodebird/a_md_img/passport_index.png" width="100%">
    - <b>serializeUser</b> : 사용자 정보 객체에서 id만 추려 세션에 저장
    - <b>deserializeUser</b> : 세션에 저장한 아이디를 통해 사용자 정보 객체를 불러옴

- <b>과정</b>

  1. [views/layout.html] : /auth/login 라우터를 통해 로그인 요청
  2. 라우터에서 passport.authenticate 메서드 호출
  3. 로그인 전략(LocalStrategy) 수행
  4. 로그인 성공시 사용자 정보 객체와 함께 req.login 호출
  5. req.session에 사용자 아이디만 저장해서 세션 생성
